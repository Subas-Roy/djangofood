{% extends 'base.html' %} {% load static %} {% block content %}

<div role="main" class="main shop pt-4">

  <div class="container">

    <div class="row">
      <div class="col-md-5 mb-5 mb-md-0">

        <div class="thumb-gallery-wrapper">
          <div class="thumb-gallery-detail owl-carousel owl-theme manual nav-inside nav-style-1 nav-dark mb-3">
            <div>
              <img alt="" class="img-fluid" src="{{ single_product.images.url }}"
                data-zoom-image="{{ single_product.images.url }}">
            </div>
            <!-- <div>
              <img alt="" class="img-fluid" src="img/products/product-grey-7-2.jpg"
                data-zoom-image="img/products/product-grey-7-2.jpg">
            </div>
            <div>
              <img alt="" class="img-fluid" src="img/products/product-grey-7-3.jpg"
                data-zoom-image="img/products/product-grey-7-3.jpg">
            </div>
            <div>
              <img alt="" class="img-fluid" src="img/products/product-grey-7-4.jpg"
                data-zoom-image="img/products/product-grey-7-4.jpg">
            </div>
            <div>
              <img alt="" class="img-fluid" src="img/products/product-grey-7-5.jpg"
                data-zoom-image="img/products/product-grey-7-5.jpg">
            </div> -->
          </div>
          <!-- <div class="thumb-gallery-thumbs owl-carousel owl-theme manual thumb-gallery-thumbs">
            <div class="cur-pointer">
              <img alt="" class="img-fluid" src="img/products/product-grey-7.jpg">
            </div>
            <div class="cur-pointer">
              <img alt="" class="img-fluid" src="img/products/product-grey-7-2.jpg">
            </div>
            <div class="cur-pointer">
              <img alt="" class="img-fluid" src="img/products/product-grey-7-3.jpg">
            </div>
            <div class="cur-pointer">
              <img alt="" class="img-fluid" src="img/products/product-grey-7-4.jpg">
            </div>
            <div class="cur-pointer">
              <img alt="" class="img-fluid" src="img/products/product-grey-7-5.jpg">
            </div>
          </div> -->
        </div>

      </div>

      <div class="col-md-7">

        <div class="summary entry-summary position-relative">

          <!-- <div class="position-absolute top-0 right-0">
            <div class="products-navigation d-flex">
              <a href="#"
                class="prev text-decoration-none text-color-dark text-color-hover-primary border-color-hover-primary"
                data-bs-toggle="tooltip" data-bs-animation="false" data-bs-original-title="Red Ladies Handbag"><i
                  class="fas fa-chevron-left"></i></a>
              <a href="#"
                class="next text-decoration-none text-color-dark text-color-hover-primary border-color-hover-primary"
                data-bs-toggle="tooltip" data-bs-animation="false" data-bs-original-title="Green Ladies Handbag"><i
                  class="fas fa-chevron-right"></i></a>
            </div>
          </div> -->

          <h1 class="mb-0 font-weight-bold text-7">{{ single_product.product_name }}</h1>

          <div class="pb-0 clearfix d-flex align-items-center">
            <div title="Rated 3 out of 5" class="float-start">
              <input type="text" class="d-none" value="3" title="" data-plugin-star-rating
                data-plugin-options="{'displayOnly': true, 'color': 'primary', 'size':'xs'}">
            </div>

            <div class="review-num">
              <a href="#description" class="text-decoration-none text-color-default text-color-hover-primary" data-hash
                data-hash-offset="0" data-hash-offset-lg="75" data-hash-trigger-click=".nav-link-reviews"
                data-hash-trigger-click-delay="1000">
                <span class="count text-color-inherit" itemprop="ratingCount">({{single_product.countReview}}</span> reviews)
              </a>
            </div>
          </div>

          <div class="divider divider-small">
            <hr class="bg-color-grey-scale-4">
          </div>

          <p class="price mb-3">
            <!-- <span class="sale text-color-dark">$15,00</span> -->
            <span class="amount">${{single_product.price}}</span>
          </p>

          <p class="text-3-5 mb-3">{{ single_product.description }}</p>

          <ul class="list list-unstyled text-2">
            <li class="mb-0">In Stock: <strong class="text-color-dark">{{ single_product.stock }}</strong></li>
            <!-- <li class="mb-0">SKU: <strong class="text-color-dark">1234567890</strong></li> -->
          </ul>

          <form enctype="multipart/form-data" method="post" class="cart" action="{% url 'add_cart' single_product.id %}">
            {% csrf_token %}
            <!-- <table class="table table-borderless" style="max-width: 300px;">
              <tbody>
                <tr>
                  <td class="align-middle text-2 px-0 py-2">SIZE:</td>
                  <td class="px-0 py-2">
                    <div class="custom-select-1">
                      <select name="size" class="form-control form-select text-1 h-auto py-2">
                        <option value="">PLEASE CHOOSE</option>
                        <option value="blue">Small</option>
                        <option value="red">Normal</option>
                        <option value="green">Big</option>
                      </select>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="align-middle text-2 px-0 py-2">COLOR:</td>
                  <td class="px-0 py-2">
                    <div class="custom-select-1">
                      <select name="color" class="form-control form-select text-1 h-auto py-2">
                        <option value="">PLEASE CHOOSE</option>
                        <option value="blue">Blue</option>
                        <option value="red">Red</option>
                        <option value="green">Green</option>
                      </select>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table> -->
            <hr>
            {% if single_product.stock <= 0 %}
              <h5 class="text-danger">Out of Stock</h5>
            {% elif in_cart %}
              <p>Item Already added to cart</p>
            <!-- <div class="quantity quantity-lg">
              <input type="button"
                class="minus text-color-hover-light bg-color-hover-primary border-color-hover-primary" value="-">
              <input type="text" class="input-text qty text" title="Qty" value="1" name="quantity" min="1" step="1">
              <input type="button" class="plus text-color-hover-light bg-color-hover-primary border-color-hover-primary"
                value="+">
            </div> -->
              <a class="btn btn-warning" href="{% url 'cart'%}">
              <span class="text">View Cart</span>
              <i class="fas fa-shopping-cart"></i>
              </a>
            {% else %}
            <button type="submit"
              class="btn btn-dark btn-modern text-uppercase bg-color-hover-primary border-color-hover-primary">Add to
              cart</button>
            {% endif %}
            <hr>
          </form>

          <!-- <div class="d-flex align-items-center"> -->
            <!-- <ul
              class="social-icons social-icons-medium social-icons-clean-with-border social-icons-clean-with-border-border-grey social-icons-clean-with-border-icon-dark me-3 mb-0"> -->
              <!-- Facebook -->
              <!-- <li class="social-icons-facebook">
                <a href="http://www.facebook.com/sharer.php?u=https://www.okler.net" target="_blank"
                  data-bs-toggle="tooltip" data-bs-animation="false" data-bs-placement="top" title="Share On Facebook">
                  <i class="fab fa-facebook-f"></i>
                </a>
              </li> -->
              <!-- Google+ -->
              <!-- <li class="social-icons-googleplus">
                <a href="https://plus.google.com/share?url=https://www.okler.net" target="_blank"
                  data-bs-toggle="tooltip" data-bs-animation="false" data-bs-placement="top" title="Share On Google+">
                  <i class="fab fa-google-plus-g"></i>
                </a>
              </li> -->
              <!-- Twitter -->
              <!-- <li class="social-icons-twitter">
                <a href="https://twitter.com/share?url=https://www.okler.net&amp;text=Simple%20Share%20Buttons&amp;hashtags=simplesharebuttons"
                  target="_blank" data-bs-toggle="tooltip" data-bs-animation="false" data-bs-placement="top"
                  title="Share On Twitter">
                  <i class="fab fa-twitter"></i>
                </a>
              </li> -->
              <!-- Email -->
              <!-- <li class="social-icons-email">
                <a href="mailto:?Subject=Share This Page&amp;Body=I%20saw%20this%20and%20thought%20of%20you!%20 https://www.okler.net"
                  data-bs-toggle="tooltip" data-bs-animation="false" data-bs-placement="top" title="Share By Email">
                  <i class="far fa-envelope"></i>
                </a>
              </li> -->
            <!-- </ul> -->
            <!-- <a href="#"
              class="d-flex align-items-center text-decoration-none text-color-dark text-color-hover-primary font-weight-semibold text-2">
              <i class="far fa-heart me-1"></i> SAVE TO WISHLIST
            </a> -->
          <!-- </div> -->

        </div>

      </div>
    </div>

    <div class="row mb-4">
      <div class="col">
        <div id="description" class="tabs tabs-simple tabs-simple-full-width-line tabs-product tabs-dark mb-2">
          <ul class="nav nav-tabs justify-content-start">
            <li class="nav-item"><a class="nav-link active font-weight-bold text-3 text-uppercase py-2 px-3"
                href="#productDescription" data-bs-toggle="tab">Description</a></li>
            <li class="nav-item"><a class="nav-link font-weight-bold text-3 text-uppercase py-2 px-3"
                href="#productInfo" data-bs-toggle="tab">Additional Information</a></li>
            <li class="nav-item"><a class="nav-link nav-link-reviews font-weight-bold text-3 text-uppercase py-2 px-3"
                href="#productReviews" data-bs-toggle="tab">Reviews ({{single_product.countReview}})</a></li>
          </ul>
          <div class="tab-content p-0">
            <div class="tab-pane px-0 py-3 active" id="productDescription">
              <p>Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Lorem ipsum
                dolor
                sit amet, consectetur adipiscing elit. Fusce sagittis, massa fringilla consequat blandit, mauris ligula
                porta nisi, non tristique enim sapien vel nisl. Suspendisse vestibulum lobortis dapibus. </p>
              <p class="m-0">Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae;
                Lorem
                ipsum dolor sit amet, consectetur adipiscing elit. Fusce sagittis, massa fringilla consequat blandit,
                mauris
                ligula porta nisi, non tristique enim sapien vel nisl. Suspendisse vestibulum lobortis dapibus.
                Vestibulum
                ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae;</p>
            </div>
            <div class="tab-pane px-0 py-3" id="productInfo">
              <table class="table table-striped m-0">
                <tbody>
                  <tr>
                    <th class="border-top-0">
                      Size:
                    </th>
                    <td class="border-top-0">
                      Unique
                    </td>
                  </tr>
                  <tr>
                    <th>
                      Colors
                    </th>
                    <td>
                      Red, Blue
                    </td>
                  </tr>
                  <tr>
                    <th>
                      Material
                    </th>
                    <td>
                      100% Leather
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="tab-pane px-0 py-3" id="productReviews">
              <ul class="comments">
                {% for review in reviews %}
                <li>
                  <div class="comment">
                    <div class="img-thumbnail border-0 p-0 d-none d-md-block">
                      <img class="avatar rounded-circle" alt="" src="img/avatars/avatar-2.jpg">
                    </div>
                    <div class="comment-block">
                      <div class="comment-arrow"></div>
                      <span class="comment-by">
                        <strong>{{review.user.full_name}}</strong>
                        <span class="float-end">
                          <div class="pb-0 clearfix">
                            <div class="rating-star">
                              <span>
                                <i
                                  class="fa fa-star{% if review.rating == 0.5 %}-half-o{% elif review.rating < 1 %}-o {% endif %}"
                                  aria-hidden="true"
                                ></i>
                                <i
                                  class="fa fa-star{% if review.rating == 1.5 %}-half-o{% elif review.rating < 2 %}-o {% endif %}"
                                  aria-hidden="true"
                                ></i>
                                <i
                                  class="fa fa-star{% if review.rating == 2.5 %}-half-o{% elif review.rating < 3 %}-o {% endif %}"
                                  aria-hidden="true"
                                ></i>
                                <i
                                  class="fa fa-star{% if review.rating == 3.5 %}-half-o{% elif review.rating < 4 %}-o {% endif %}"
                                  aria-hidden="true"
                                ></i>
                                <i
                                  class="fa fa-star{% if review.rating == 4.5 %}-half-o{% elif review.rating < 5 %}-o {% endif %}"
                                  aria-hidden="true"
                                ></i>
                              </span>
                            </div>
                            <!-- <div title="Rated 3 out of 5" class="float-start">
                              <input type="text" class="d-none" value="3" title="" data-plugin-star-rating
                                data-plugin-options="{'displayOnly': true, 'color': 'primary', 'size':'xs'}">
                            </div> -->

                            <div class="review-num">
                              <span class="count" itemprop="ratingCount">{{review.updated_at}}</span>
                              <!-- <span class="count" itemprop="ratingCount">2</span> reviews -->
                            </div>
                          </div>
                        </span>
                      </span>
                      <h6>{{review.subject}}</h6>
                      <p>{{review.review}}</p>
                    </div>
                  </div>
                </li>
                {% endfor %}
              </ul>
              <hr class="solid my-5">
              <h4>Add a review</h4>
              <div class="row">
                <div class="col">

                  <form action="{% url 'submit_review' single_product.id %}" id="submitReview" method="post">
                    {% csrf_token %}
                    <div class="row">
                      <div class="form-group col pb-2">
                        <label class="form-label required font-weight-bold text-dark">Rating</label>
                        <!-- <input type="text" class="rating-loading" value="0" title="" data-plugin-star-rating
                          data-plugin-options="{'color': 'primary', 'size':'sm'}"> -->
                          <div class="rate">
                            <input
                              type="radio"
                              name="rating"
                              id="rating10"
                              value="5"
                              required
                            /><label for="rating10" title="5"></label>
                            <input
                              type="radio"
                              name="rating"
                              id="rating9"
                              value="4.5"
                              required
                            /><label for="rating9" title="4.5" class="half"></label>
                            <input
                              type="radio"
                              name="rating"
                              id="rating8"
                              value="4"
                              required
                            /><label for="rating8" title="4"></label>
                            <input
                              type="radio"
                              name="rating"
                              id="rating7"
                              value="3.5"
                              required
                            /><label for="rating7" title="3.5" class="half"></label>
                            <input
                              type="radio"
                              name="rating"
                              id="rating6"
                              value="3"
                              required
                            /><label for="rating6" title="3"></label>
                            <input
                              type="radio"
                              name="rating"
                              id="rating5"
                              value="2.5"
                              required
                            /><label for="rating5" title="2.5" class="half"></label>
                            <input
                              type="radio"
                              name="rating"
                              id="rating4"
                              value="2"
                              required
                            /><label for="rating4" title="2"></label>
                            <input
                              type="radio"
                              name="rating"
                              id="rating3"
                              value="1.5"
                              required
                            /><label for="rating3" title="1.5" class="half"></label>
                            <input
                              type="radio"
                              name="rating"
                              id="rating2"
                              value="1"
                              required
                            /><label for="rating2" title="1"></label>
                            <input
                              type="radio"
                              name="rating"
                              id="rating1"
                              value="0.5"
                              required
                            /><label for="rating1" title="0.5" class="half"></label>
                          </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="form-group col-lg-6">
                        <label class="form-label required font-weight-bold text-dark">Review Title</label>
                        <input type="text" value="" data-msg-required="Please enter your name." maxlength="100"
                          class="form-control" name="subject" required>
                      </div>
                      <!-- <div class="form-group col-lg-6">
                        <label class="form-label required font-weight-bold text-dark">Email Address</label>
                        <input type="email" value="" data-msg-required="Please enter your email address."
                          data-msg-email="Please enter a valid email address." maxlength="100" class="form-control"
                          name="email" required>
                      </div> -->
                    </div>
                    <div class="row">
                      <div class="form-group col">
                        <label class="form-label required font-weight-bold text-dark">Review</label>
                        <textarea maxlength="5000" data-msg-required="Please enter your review." rows="4"
                          class="form-control" name="review" id="review" required></textarea>
                      </div>
                    </div>
                    {% if user.is_authenticated %} {% if orderproduct %}
                    <div class="row">
                      <div class="form-group col mb-0">
                        <input type="submit" value="Post Review" class="btn btn-primary btn-modern"
                          data-loading-text="Loading...">
                      </div>
                    {% else %}
                    <p>You must purchase this product to post a review.</p>
                    {% endif %} {% else %}
                    <p>
                      You must be logged in to post a review.
                      <span><a href="{% url 'login' %}">Login now</a></span>
                    </p>
                    {% endif %}
                    </div>
                    {% include 'includes/alerts.html' %}
                  </form>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

{% endblock %}